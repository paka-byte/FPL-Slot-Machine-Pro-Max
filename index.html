<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="theme-color" content="#0a7e6e" />
<title>FPL Slot Machine ‚Äî Pro Max (DataFPL)</title>
<style>
  :root{
    --bg1:#0b2f24; --bg2:#0a7e6e; --panel:#102c26;
    --glass:rgba(255,255,255,.06);
    --ring:rgba(0,0,0,.25);
    --accent:#00ff88; --danger:#ff4444; --text:#eafcf3;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,'Trebuchet MS',sans-serif;
    color:var(--text);
    background:
      radial-gradient(1200px 800px at 0% 0%, rgba(255,255,255,.05), transparent 60%),
      radial-gradient(1200px 800px at 100% 0%, rgba(255,255,255,.05), transparent 60%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
    display:flex; flex-direction:column; align-items:center;
  }

  /* header */
  h1{
    margin:18px 12px 4px;
    font-size:clamp(1.6rem,3.5vw,2.6rem);
    letter-spacing:.5px;
    text-shadow:0 2px 8px rgba(0,0,0,.45);
  }
  .sub{
    opacity:.9; margin-bottom:10px; font-size:.95rem;
    background:var(--glass); padding:6px 10px; border-radius:10px; border:1px solid rgba(255,255,255,.08)
  }

  /* layout wrapper */
  .wrap{width:min(1000px,100%); padding:8px 14px 18px}

  /* cards */
  .controls{
    display:grid; grid-template-columns:1.1fr .9fr; gap:14px; margin-top:10px
  }
  @media (max-width:880px){
    .controls{ grid-template-columns:1fr; }
  }
  .control-card{
    background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.12);
    border-radius:16px; padding:14px 12px;
    box-shadow:0 10px 30px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.06);
    backdrop-filter: blur(6px);
  }
  .control-card h3{margin:0 0 10px; font-size:1rem; opacity:.95; letter-spacing:.3px}

  /* players grid */
  .input-container{
    display:grid; grid-template-columns:repeat(3,minmax(120px,1fr)); gap:10px
  }
  @media (max-width:560px){
    .input-container{ grid-template-columns:repeat(2,minmax(120px,1fr)); }
  }
  .input-container input{
    padding:12px 10px; font-size:16px; text-align:center; color:#0b0b0b;
    border:none; outline:none; border-radius:12px; background:#fff;
    box-shadow:inset 0 -2px 0 rgba(0,0,0,.15);
  }
  .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:10px}

  /* stats + selects */
  select,.stat,.small-btn{
    padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,.12);
    font-size:15px; background:rgba(255,255,255,.9); color:#0b0b0b; font-weight:700
  }
  .stat{
    background:#0e2f26; color:#eafcf3; border-color:rgba(255,255,255,.14);
    box-shadow:inset 0 1px 0 rgba(255,255,255,.08);
    min-width:140px
  }
  .small-btn{ background:#122a24; color:#eafcf3; cursor:pointer }
  .small-btn:hover{ filter:brightness(1.15) }

  /* reels */
  .reels{display:flex; justify-content:center; margin:22px 0 12px; gap:16px; width:100%}
  .reel{
    width:clamp(110px,22vw,160px); height:clamp(110px,22vw,160px);
    background:#fff; color:#111; border-radius:16px;
    display:flex; align-items:center; justify-content:center;
    font-size:clamp(18px,3.6vw,28px); font-weight:900; padding:10px; text-align:center;
    box-shadow:
      0 12px 30px rgba(0,0,0,.35),
      inset 0 4px 0 rgba(255,255,255,.9),
      inset 0 -4px 0 rgba(0,0,0,.08);
    transform:translateZ(0);
  }
  .reel.stop-anim{ animation:pop .28s ease-out }
  @keyframes pop{ 0%{transform:scale(.96)} 70%{transform:scale(1.04)} 100%{transform:scale(1)} }

  /* buttons */
  .btns{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin:8px 0 0}
  button{
    padding:12px 18px; font-size:17px; border:none; border-radius:12px; cursor:pointer; font-weight:900;
    box-shadow:0 8px 18px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.18);
    transition:transform .08s ease, filter .15s ease
  }
  button:active{ transform:translateY(1px) }
  #spinBtn{ background:var(--accent); color:#001b0e }
  #resetBtn{ background:var(--danger); color:#fff; display:none }
  #muteBtn{ background:#182a25; color:#fff }
  #saveBtn{ background:#0b0b0b; color:#fff; border:1px solid rgba(255,255,255,.18) }

  /* result & history */
  #result{
    margin:12px 12px 8px; font-size:clamp(20px,3.8vw,30px); font-weight:900; min-height:42px;
    text-shadow:0 2px 8px rgba(0,0,0,.45); text-align:center; word-break:break-word
  }
  #history{font-size:.95rem; opacity:.95; display:flex; flex-wrap:wrap; gap:8px; justify-content:center}
  .chip{
    background:#083228; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.12);
    box-shadow:0 4px 12px rgba(0,0,0,.25)
  }

  /* canvas effect layer */
  canvas{ position:fixed; inset:0; pointer-events:none; z-index:9999 }

  /* footer */
  footer{ margin-top:auto; opacity:.8; padding:12px 0 18px; font-size:.9rem }
</style>

<!-- Preload audio -->
<link rel="preload" href="./sounds/spin.mp3" as="audio">
<link rel="preload" href="./sounds/tick.mp3" as="audio">
<link rel="preload" href="./sounds/goal.mp3" as="audio">
</head>
<body>
  <h1>üé∞ FPL Slot Machine ‚Äî Pro Max (DataFPL)</h1>
  <div class="sub">Weighted jackpot: starts <b>20%</b>, +<b>10%</b> each miss, resets to 20% on hit (just for fun)</div>

  <div class="wrap">
    <div class="controls">
      <div class="control-card">
        <h3>Players</h3>
        <div class="input-container" id="inputs"></div>
        <div class="row">
          <button id="addSlotBtn" class="small-btn" type="button">Ôºã ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á</button>
          <button id="removeSlotBtn" class="small-btn" type="button">Ôºç ‡∏•‡∏î‡∏ä‡πà‡∏≠‡∏á</button>
        </div>
        <div style="opacity:.75;font-size:.9rem;margin-top:6px">Tip: ‡∏Å‡∏î Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏∑‡πà‡∏≠ (‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏à‡∏≥‡∏Ñ‡πà‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á)</div>
      </div>

      <div class="control-card">
        <h3>Theme & Stats</h3>
        <div class="row">
          <select id="themeSelect" title="Theme">
            <option value="Default">Default (Green)</option>
            <option value="Arsenal">Arsenal</option>
            <option value="Liverpool">Liverpool</option>
            <option value="ManCity">Man City</option>
            <option value="Spurs">Spurs</option>
            <option value="Chelsea">Chelsea</option>
            <option value="ManUnited">Man United</option>
          </select>
          <div class="stat" id="statSpins">Spins: 0</div>
          <div class="stat" id="statJackpots">Jackpots: 0</d
